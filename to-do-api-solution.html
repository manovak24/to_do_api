<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASYNC XMLHTTPRequest Solution</title>
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
</head>
<body>
    
    <script>
        // jQuery AJAX
        const url = 'https://jsonplaceholder.typicode.com/todos';
        $.ajax({
            url: url,
            success: function(data) {
                console.log(typeof data)

                for(let i = 1; i <= 10; i++) {
                    const container = $('<div>', {id: i});
                    $('body').append(container)
                    container.html(`<h2>User ${i}</h2>`);
                }

                for(let item of data){
                    const newP = $('<p>');
                    if(item.completed) {
                        newP.text('✔' + item.title)
                    } else {
                        newP.text('☐' + item.title)

                    }
                    // below is the same as adding the newP to each div by id like document.getElementById(item.userId).appendChild(newP)
                    $(`#${item.userId}`).append(newP)
                }
                
            }
        })

        // XMLHTTPRequest 

        // const url = 'https://jsonplaceholder.typicode.com/data';
        // const xhttp = new XMLHttpRequest();
        // xhttp.onreadystatechange = function() {
        //     if (this.readyState == 4 && this.status == 200) {
        //     // Typical action to be performed when the document is ready:
        //         console.log(xhttp.responseText);
        //         console.log(typeof xhttp.responseText);

        //         const todos = JSON.parse(xhttp.responseText);

        //         for(let i = 1; i <= 10; i++) {
        //             const container = document.createElement('div');
        //             document.body.appendChild(container);
        //             container.id = i;
        //             container.innerHTML = `<h2>User ${i}</h2>`
        //         }
                
        //         for(let todo of todos) {
        //             const newP = document.createElement('p');
        //             if(todo.completed) {
        //                 newP.textContent = '✔' + todo.title;
        //             } else {
        //                 newP.textContent = '☐' + todo.title;
        //             }
        //             document.getElementById(todo.userId).appendChild(newP);
        //         }
        //     }
        // };
        // xhttp.open("GET", url, true);
        // xhttp.send();
    </script>
</body>
</html>